import{h as c,o as r,a as m,x as _,k as u,v as p,b as B,A as $,F as S,n as f,C as d,p as z,y as F,m as I}from"./vue.esm-bundler-n0I0yAQQ.js";import{N}from"./FormInput-ZCW-tEyI.js";import{_ as v}from"./_plugin-vue_export-helper-x3n3nnut.js";import{c as R}from"./event-bus-bMcyhil4.js";const h=c({name:"ResizeObserver",props:{enabled:{type:Boolean,default:!0},breakpoints:{type:Array,validator:e=>Array.isArray(e)&&e.reduce((t,{width:s,bp:n})=>t&&typeof s=="number"&&typeof n=="string",!0)}},data(){return{observer:null,bp:""}},mounted(){if(!this.enabled)return;const e=this.$refs.root;if(!e)return;this.bp=this.getBreakpointFromWidth(e.offsetWidth);const t=new ResizeObserver(s=>{s.forEach(n=>{requestAnimationFrame(()=>{this.bp=this.getBreakpointFromWidth(n.contentRect.width)})})});this.observer=t,t.observe(e)},beforeUnmount(){var e;this.enabled&&((e=this.observer)==null||e.disconnect())},methods:{getBreakpointFromWidth(e){let t="default";const n=[...this.breakpoints||[]].sort((o,i)=>o.width-i.width);for(let o=0;o<n.length;o++)if(e<n[o].width){t=n[o].bp;break}return t}}}),O={ref:"root"};function E(e,t,s,n,o,i){return r(),m("div",O,[_(e.$slots,"default",{bp:e.bp})],512)}const M=v(h,[["render",E]]);h.__docgenInfo={displayName:"ResizeObserver",exportName:"default",description:"",tags:{},props:[{name:"enabled",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"breakpoints",type:{name:"array"}}],slots:[{name:"default",scoped:!0,bindings:[{name:"bp",title:"binding"}]}],sourceFiles:["/home/runner/work/flowease-storybook/flowease-storybook/packages/design-system/src/components/ResizeObserver/ResizeObserver.vue"]};const b=c({name:"N8nFormInputs",components:{N8nFormInput:N,ResizeObserver:M},props:{inputs:{type:Array,default:()=>[]},eventBus:{type:Object,default:()=>R()},columnView:{type:Boolean,default:!1},verticalSpacing:{type:String,default:"",validator:e=>["","xs","s","m","m","l","xl"].includes(e)},teleported:{type:Boolean,default:!0},tagSize:{type:String,default:"small",validator:e=>["small","medium"].includes(e)}},data(){return{showValidationWarnings:!1,values:{},validity:{}}},computed:{filteredInputs(){return this.inputs.filter(e=>typeof e.shouldDisplay=="function"?e.shouldDisplay(this.values):!0)},isReadyToSubmit(){for(const e in this.validity)if(!this.validity[e])return!1;return!0}},watch:{isReadyToSubmit(e){this.$emit("ready",e)}},mounted(){this.inputs.forEach(e=>{e.hasOwnProperty("initialValue")&&(this.values={...this.values,[e.name]:e.initialValue})}),this.eventBus&&this.eventBus.on("submit",()=>this.onSubmit())},methods:{onUpdateModelValue(e,t){this.values={...this.values,[e]:t},this.$emit("update",{name:e,value:t}),this.$emit("update:modelValue",this.values)},onValidate(e,t){this.validity={...this.validity,[e]:t}},onSubmit(){if(this.showValidationWarnings=!0,this.isReadyToSubmit){const e=this.filteredInputs.reduce((t,s)=>(this.values[s.name]&&(t[s.name]=this.values[s.name]),t),{});this.$emit("submit",e)}}}}),A="_grid_16oq8_1",W="_gridMulti_16oq8_7 _grid_16oq8_1",C={grid:A,gridMulti:W};function U(e,t,s,n,o,i){const y=d("n8n-text"),g=d("N8nFormInput"),V=d("ResizeObserver");return r(),u(V,{breakpoints:[{bp:"md",width:500}]},{default:p(({bp:k})=>[B("div",{class:f(k==="md"||e.columnView?e.$style.grid:e.$style.gridMulti)},[(r(!0),m(S,null,$(e.filteredInputs,(a,w)=>(r(),m("div",{key:a.name,class:f({[`mt-${e.verticalSpacing}`]:e.verticalSpacing&&w>0})},[a.properties.type==="info"?(r(),u(y,{key:0,color:"text-base",tag:"div",size:a.properties.labelSize,align:a.properties.labelAlignment,class:"form-text"},{default:p(()=>[F(z(a.properties.label),1)]),_:2},1032,["size","align"])):(r(),u(g,I({key:1},a.properties,{name:a.name,label:a.properties.label||"","model-value":e.values[a.name],"data-test-id":a.name,"show-validation-warnings":e.showValidationWarnings,teleported:e.teleported,"tag-size":e.tagSize,"onUpdate:modelValue":l=>e.onUpdateModelValue(a.name,l),onValidate:l=>e.onValidate(a.name,l),onEnter:e.onSubmit}),null,16,["name","label","model-value","data-test-id","show-validation-warnings","teleported","tag-size","onUpdate:modelValue","onValidate","onEnter"]))],2))),128))],2)]),_:1})}const q={$style:C},j=v(b,[["render",U],["__cssModules",q]]);b.__docgenInfo={displayName:"N8nFormInputs",exportName:"default",description:"",tags:{},props:[{name:"inputs",type:{name:"IFormInput[]"},defaultValue:{func:!0,value:"(): IFormInput[] => []"}},{name:"eventBus",type:{name:"EventBus"},defaultValue:{func:!0,value:"(): EventBus => createEventBus()"}},{name:"columnView",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"verticalSpacing",type:{name:"string"},defaultValue:{func:!1,value:"''"},values:["xs","s","m","m","l","xl"]},{name:"teleported",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"tagSize",type:{name:"string"},defaultValue:{func:!1,value:"'small'"},values:["small","medium"]}],events:[{name:"ready",type:{names:["undefined"]}},{name:"update",type:{names:["undefined"]}},{name:"update:modelValue",type:{names:["undefined"]}},{name:"submit",type:{names:["undefined"]}}],sourceFiles:["/home/runner/work/flowease-storybook/flowease-storybook/packages/design-system/src/components/N8nFormInputs/FormInputs.vue"]};export{j as N,M as R};
