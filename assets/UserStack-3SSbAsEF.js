import{h as I,e as u,o as s,a as r,s as p,v as i,F as m,A as g,b as v,n as t,p as U,q as b,C as f,u as w,m as V,k as q}from"./vue.esm-bundler-n0I0yAQQ.js";import{N as E}from"./Avatar-9WaWaZZz.js";import{N as F}from"./UserInfo-tm1-PBoj.js";import{_ as T}from"./_plugin-vue_export-helper-x3n3nnut.js";const j={class:"user-stack","data-test-id":"user-stack-container"},$=I({__name:"UserStack",props:{users:{type:Object,required:!0},currentUserEmail:{type:String,required:!1,default:""},maxAvatars:{type:Number,default:2,validator:l=>l>0},dropdownTrigger:{type:String,default:"hover",validator:l=>["hover","click"].includes(l)}},setup(l){const a=l,_=u(()=>{const e={};for(const n in a.users)a.users[n].length>0&&(e[n]=a.users[n]);return e}),y=u(()=>Object.keys(_.value).length),d=u(()=>{const e=[];for(const n in a.users)e.push(...a.users[n]);return e}),k=u(()=>d.value.length>=a.maxAvatars?a.maxAvatars:d.value.length),h=u(()=>d.value.length-k.value),S=u(()=>y.value>1?220:190);return(e,n)=>{const N=f("el-dropdown-item"),B=f("el-dropdown-menu"),A=f("el-dropdown");return s(),r("div",j,[p(A,{trigger:e.$props.dropdownTrigger,"max-height":S.value,"popper-class":"user-stack-popper"},{dropdown:i(()=>[p(B,{class:"user-stack-list","data-test-id":"user-stack-list"},{default:i(()=>[(s(!0),r(m,null,g(_.value,(o,C)=>(s(),r("div",{key:C},[v("div",{class:t(e.$style.groupContainer)},[p(N,null,{default:i(()=>[y.value>1?(s(),r("header",{key:0,class:t(e.$style.groupName)},U(C),3)):b("",!0)]),_:2},1024),v("div",{class:t(e.$style.groupUsers)},[(s(!0),r(m,null,g(o,c=>(s(),q(N,{key:c.id,"data-test-id":`user-stack-info-${c.id}`,class:t(e.$style.userInfoContainer)},{default:i(()=>[p(w(F),V(c,{"is-current-user":c.email===a.currentUserEmail}),null,16,["is-current-user"])]),_:2},1032,["data-test-id","class"]))),128))],2)],2)]))),128))]),_:1})]),default:i(()=>[v("div",{class:t(e.$style.avatars),"data-test-id":"user-stack-avatars"},[(s(!0),r(m,null,g(d.value.slice(0,k.value),o=>(s(),q(w(E),{key:o.id,"first-name":o.firstName,"last-name":o.lastName,class:t(e.$style.avatar),"data-test-id":`user-stack-avatar-${o.id}`,size:"small"},null,8,["first-name","last-name","class","data-test-id"]))),128)),h.value>0?(s(),r("div",{key:0,class:t(e.$style.hiddenBadge)},"+"+U(h.value),3)):b("",!0)],2)]),_:1},8,["trigger","max-height"])])}}}),x="_avatars_yebqg_1",z="_avatar_yebqg_1",G="_hiddenBadge_yebqg_11",L="_groupContainer_yebqg_26",M="_groupName_yebqg_34",O="_groupUsers_yebqg_42",D="_userInfoContainer_yebqg_48",H={avatars:x,avatar:z,hiddenBadge:G,groupContainer:L,groupName:M,groupUsers:O,userInfoContainer:D},P={$style:H},W=T($,[["__cssModules",P]]);$.__docgenInfo={exportName:"default",displayName:"UserStack",description:"",tags:{},props:[{name:"users",type:{name:"UserStackGroups"},required:!0},{name:"currentUserEmail",type:{name:"string"},required:!1,defaultValue:{func:!1,value:"''"}},{name:"maxAvatars",type:{name:"number"},defaultValue:{func:!1,value:"2"}},{name:"dropdownTrigger",type:{name:"string"},defaultValue:{func:!1,value:"'hover'"},values:["hover","click"]}],sourceFiles:["/home/runner/work/flowease-storybook/flowease-storybook/packages/design-system/src/components/N8nUserStack/UserStack.vue"]};export{W as N};
