import{h as M,r as A,e as g,o as r,a as n,b as u,n as i,u as s,F as c,A as m,k as b,q as H,s as h,v as k,y as R,p as w,m as W,B as F,G as T,x as U,E}from"./vue.esm-bundler-n0I0yAQQ.js";import{a as N,N as I}from"./Option-C6esXb-N.js";import{N as O}from"./Pagination-Wqk0hJkY.js";import{u as x}from"./useI18n-bvZy21or.js";import{_ as G}from"./_plugin-vue_export-helper-x3n3nnut.js";function L(f,P){return P.split(".").reduce((a,p)=>a==null?void 0:a[p],f)}const j={key:1},S=M({name:"N8nDatatable",__name:"Datatable",props:{columns:{},rows:{},currentPage:{default:1},pagination:{type:Boolean,default:!0},rowsPerPage:{default:10}},emits:["update:currentPage","update:rowsPerPage"],setup(f,{emit:P}){const a=f,p=P,{t:D}=x(),V=A([10,25,50,100]),d=F(),C=g(()=>a.rowsPerPage==="*"?1:Math.ceil(a.rows.length/a.rowsPerPage)),y=g(()=>a.rows.length),z=g(()=>{if(a.rowsPerPage==="*")return a.rows;const e=(a.currentPage-1)*a.rowsPerPage,l=e+a.rowsPerPage;return a.rows.slice(e,l)}),B=g(()=>({datatable:!0,[d.datatableWrapper]:!0}));function _(e){p("update:currentPage",e)}function q(e){p("update:rowsPerPage",e);const l=e==="*"?1:Math.ceil(y.value/e);l<a.currentPage&&_(l)}function v(e,l){return L(e,l.path)}function $(e){return{...e.width?{width:e.width}:{}}}return(e,l)=>(r(),n("div",W({class:B.value},e.$attrs),[u("table",{class:i(s(d).datatable)},[u("thead",{class:i(s(d).datatableHeader)},[u("tr",null,[(r(!0),n(c,null,m(e.columns,t=>(r(),n("th",{key:t.id,class:i(t.classes),style:T($(t))},w(t.label),7))),128))])],2),u("tbody",null,[(r(!0),n(c,null,m(z.value,t=>U(e.$slots,"row",{columns:e.columns,row:t,getTdValue:v},()=>[(r(),n("tr",{key:t.id},[(r(!0),n(c,null,m(e.columns,o=>(r(),n("td",{key:o.id,class:i(o.classes)},[o.render?(r(),b(E(o.render),{key:0,row:t,column:o},null,8,["row","column"])):(r(),n("span",j,w(v(t,o)),1))],2))),128))]))])),256))])],2),u("div",{class:i(s(d).pagination)},[C.value>1?(r(),b(s(O),{key:0,background:"","pager-count":5,"page-size":e.rowsPerPage,layout:"prev, pager, next",total:y.value,"current-page":e.currentPage,"onUpdate:currentPage":_},null,8,["page-size","total","current-page"])):H("",!0),u("div",{class:i(s(d).pageSizeSelector)},[h(s(I),{size:"mini","model-value":e.rowsPerPage,teleported:"","onUpdate:modelValue":q},{prepend:k(()=>[R(w(s(D)("datatable.pageSize")),1)]),default:k(()=>[(r(!0),n(c,null,m(V.value,t=>(r(),b(s(N),{key:t,label:`${t}`,value:t},null,8,["label","value"]))),128)),h(s(N),{label:"All",value:"*"})]),_:1},8,["model-value"])],2)],2)],16))}}),J="_datatableWrapper_egg0f_1",K="_datatable_egg0f_1",Q="_datatableHeader_egg0f_21",X="_pagination_egg0f_29",Y="_pageSizeSelector_egg0f_39",Z={datatableWrapper:J,datatable:K,datatableHeader:Q,pagination:X,pageSizeSelector:Y},ee={$style:Z},le=G(S,[["__cssModules",ee]]);S.__docgenInfo={name:"N8nDatatable",exportName:"default",displayName:"Datatable",description:"",tags:{},props:[{name:"columns",required:!0,type:{name:"Array",elements:[{name:"DatatableColumn"}]}},{name:"rows",required:!0,type:{name:"Array",elements:[{name:"DatatableRow"}]}},{name:"currentPage",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"pagination",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"rowsPerPage",required:!1,type:{name:"union",elements:[{name:"number"},{name:'"*"'}]},defaultValue:{func:!1,value:"10"}}],events:[{name:"update:currentPage"},{name:"update:rowsPerPage"}],slots:[{name:"row",scoped:!0,bindings:[{name:"columns",title:"binding"},{name:"row",title:"binding"},{name:"get-td-value",title:"binding"}]}],sourceFiles:["/home/runner/work/flowease-storybook/flowease-storybook/packages/design-system/src/components/N8nDatatable/Datatable.vue"]};export{le as N};
