import{h as w,e as U,o as n,a as r,F as v,A as C,n as d,s as B,m as q,u as a,b as A,k as u,v as L,p as I,y as V,q as i,x as b}from"./vue.esm-bundler-n0I0yAQQ.js";import{N as $}from"./ActionToggle-zDmAoS2J.js";import{N as E}from"./Badge-TEzH96hG.js";import{N as O}from"./UserInfo-tm1-PBoj.js";import{u as P}from"./useI18n-bvZy21or.js";import{_ as S}from"./_plugin-vue_export-helper-x3n3nnut.js";const W=["data-test-id"],f=w({__name:"UsersList",props:{users:{default:()=>[]},readonly:{type:Boolean,default:!1},currentUserId:{},actions:{default:()=>[]},isSamlLoginEnabled:{type:Boolean,default:!1}},emits:["*"],setup(c,{emit:p}){const o=c,{t:g}=P(),l=U(()=>[...o.users].sort((e,s)=>{if(!e.email||!s.email)throw new Error("Expected all users to have email");if(e.isPendingUser&&s.isPendingUser)return e.email>s.email?1:-1;if(e.isPendingUser)return-1;if(s.isPendingUser)return 1;if(e.isOwner)return-1;if(s.isOwner)return 1;if(e.lastName&&s.lastName&&e.firstName&&s.firstName){if(e.lastName!==s.lastName)return e.lastName>s.lastName?1:-1;if(e.firstName!==s.firstName)return e.firstName>s.firstName?1:-1}return e.email>s.email?1:-1})),y=()=>!0,m=e=>e.isOwner?[]:o.actions.filter(s=>(s.guard||y)(e)),N=p,_=(e,s)=>N(s,e.id);return(e,s)=>(n(),r("div",null,[(n(!0),r(v,null,C(l.value,(t,h)=>(n(),r("div",{key:t.id,class:d(h===l.value.length-1?e.$style.itemContainer:e.$style.itemWithBorder),"data-test-id":`user-list-item-${t.email}`},[B(a(O),q(t,{"is-current-user":e.currentUserId===t.id,"is-saml-login-enabled":e.isSamlLoginEnabled}),null,16,["is-current-user","is-saml-login-enabled"]),A("div",{class:d(e.$style.badgeContainer)},[t.isOwner?(n(),u(a(E),{key:0,theme:"tertiary",bold:""},{default:L(()=>[V(I(a(g)("nds.auth.roles.owner")),1)]),_:1})):i("",!0),!t.isOwner&&!e.readonly?b(e.$slots,"actions",{key:1,user:t}):i("",!0),!t.isOwner&&t.signInType!=="ldap"&&!e.readonly&&m(t).length>0&&e.actions.length>0?(n(),u(a($),{key:2,placement:"bottom",actions:m(t),theme:"dark",onAction:k=>_(t,k)},null,8,["actions","onAction"])):i("",!0)],2)],10,W))),128))]))}}),F="_itemContainer_wgqkm_1",T="_itemWithBorder_wgqkm_9 _itemContainer_wgqkm_1",M="_badgeContainer_wgqkm_14",z={itemContainer:F,itemWithBorder:T,badgeContainer:M},D={$style:z},R=S(f,[["__cssModules",D]]);f.__docgenInfo={exportName:"default",displayName:"UsersList",description:"",tags:{},props:[{name:"users",required:!0,type:{name:"Array",elements:[{name:"IUser"}]},defaultValue:{func:!1,value:"() => []"}},{name:"readonly",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"currentUserId",required:!1,type:{name:"string"}},{name:"actions",required:!1,type:{name:"Array",elements:[{name:"UserAction"}]},defaultValue:{func:!1,value:"() => []"}},{name:"isSamlLoginEnabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"*"}],slots:[{name:"actions",scoped:!0,bindings:[{name:"user",title:"binding"}]}],sourceFiles:["/home/runner/work/flowease-storybook/flowease-storybook/packages/design-system/src/components/N8nUsersList/UsersList.vue"]};export{R as N};
